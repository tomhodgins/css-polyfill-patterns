<link href=https://staticresource.com/sixty.css rel=stylesheet>

<h1>Custom Pseudo Classes</h1>

<h2>Ancestor</h2>

<ul class=ancestor>
  <li>item with <span>span</span>
  <li>item
  <li class=target>target
  <li>item
  <li>item
</ul>

<h2>Closest</h2>

<div class=closest>
  <div>
    <div class=demo>
      <div>
        <div>
          <div class=demo>
            <div>
              <div>
                <div class=target>target</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<h2>Has</h2>

<div class=has>

  <ul>
    <li>item
  </ul>

  <ul>
    <li>item
    <li>item
  </ul>

  <ul>
    <li>item
    <li>item
    <li>item
  </ul>

  <ul>
    <li>item
    <li>item
    <li>item
    <li>item with <span>span</span>
  </ul>

</div>

<h2>Has Not</h2>

<div class=hasNot>

  <ul>
    <li>item
  </ul>

  <ul>
    <li>item
    <li>item
  </ul>

  <ul>
    <li>item
    <li>item
    <li>item
  </ul>

</div>

<h2>Parent</h2>

<ul class=parent>
  <li>item
  <li>item
  <li class=target>target
  <li>item
  <li>item
</ul>

<h2>Previous</h2>

<ul class=prev>
  <li>item
  <li>item
  <li class=target>target
  <li>item
  <li>item
</ul>

<h2>Contains Regex</h2>

<ul class=regex>
  <li>item
  <li>target
  <li>item
</ul>

<h2>Contains Text</h2>

<ul class=includes>
  <li>item
  <li>target
  <li>item
</ul>

<h2>Excludes Regex</h2>

<ul class=excludesRegex>
  <li>This
  <li>is
  <li>not
  <li>a
  <li>test
</ul>

<h2>Excludes Text</h2>

<ul class=excludesText>
  <li>This
  <li>is
  <li>not
  <li>a
  <li>test
</ul>

<h2>Grandparent</h2>

<div class=grandparent>
  Grandparent
  <div>
    Parent
    <div class=target>Child</div>
  </div>
</div>

<h2>In Viewport</h2>

<div class=inViewport>Hello!</div>

<h2>Overflowed</h2>

<div class=overflowed>
  <div>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</div>
</div>


<h2>Min Aspect Ratio</h2>

<div class=min-aspect-ratio></div>

<h2>Max Aspect Ratio</h2>

<div class=max-aspect-ratio></div>

<h2>Min Characters</h2>

<input class=min-characters placeholder="Enter 5+ characters">

<h2>Characters</h2>

<input class=characters placeholder="Enter 5 characters">

<h2>Max Characters</h2>

<input class=max-characters placeholder="Enter <=5 characters">

<h2>Min Children</h2>

<div class=min-children>

  <ul>
    <li>one
  </ul>

  <ul>
    <li>one
    <li>two
  </ul>

  <ul>
    <li>one
    <li>two
    <li>three
  </ul>

</div>

<h2>Children</h2>

<div class=children>

  <ul>
    <li>one
  </ul>

  <ul>
    <li>one
    <li>two
  </ul>

  <ul>
    <li>one
    <li>two
    <li>three
  </ul>

</div>

<h2>Max Children</h2>

<div class=max-children>

  <ul>
    <li>one
  </ul>

  <ul>
    <li>one
    <li>two
  </ul>

  <ul>
    <li>one
    <li>two
    <li>three
  </ul>

</div>

<h2>Min Height</h2>

<textarea class=min-height placeholder="Enter lines here"></textarea>

<h2>Max Height</h2>

<textarea class=max-height placeholder="Enter lines here"></textarea>

<h2>Min Scroll Y</h2>

<div class=min-scroll-y>
  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
</div>

<h2>Max Scroll Y</h2>

<div class=max-scroll-y>
  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
</div>

<h2>Min Scroll X</h2>

<div class=min-scroll-x>
  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
</div>

<h2>Max Scroll X</h2>

<div class=max-scroll-x>
  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
</div>

<h2>orientation</h2>
<div class=orientation style="width: 100px; height: 100px;">100 &times; 100</div>
<div class=orientation style="width: 100px; height: 200px;">100 &times; 200</div>
<div class=orientation style="width: 200px; height: 100px;">200 &times; 100</div>

<h2>Min Width</h2>

<div class=minWidth style=width:100%></div>
<div class=minWidth style=width:75%></div>
<div class=minWidth style=width:50%></div>
<div class=minWidth style=width:33%></div>

<h2>Max Width</h2>

<div class=maxWidth style=width:100%></div>
<div class=maxWidth style=width:75%></div>
<div class=maxWidth style=width:50%></div>
<div class=maxWidth style=width:33%></div>

<h2>Attr Greater Than</h2>

<input type=number class=attr-greater value=0>

<h2>Attr Less Than</h2>

<input type=number class=attr-less value=0>

<script type=module>
  import {
    ancestor,
    closest,
    has,
    hasNot,
    parent,
    previous,
    containsRegex,
    containsText,
    excludesText,
    excludesRegex,
    grandparent,
    inViewport,
    overflowed,
    minAspectRatio,
    maxAspectRatio,
    minCharacters,
    characters,
    maxCharacters,
    minChildren,
    children,
    maxChildren,
    minHeight,
    maxHeight,
    minScrollX,
    maxScrollX,
    minScrollY,
    maxScrollY,
    minWidth,
    maxWidth,
    orientation,
    attrGreater,
    attrLess
  } from './examples/pseudo-class-examples.js'

  import jsincss from 'https://unpkg.com/jsincss/index.vanilla.js'

  jsincss(()=>`

    /* :ancestor() */
    ${ancestor('.ancestor span', '.ancestor li', `
      background: orange;
    `)}

    /* :closest() */
    .closest,
    .closest div {
      border: 1px solid;
      padding: 1em;
    }

    ${closest('.closest .target', '.demo', `
      border: 4px dashed red;
    `)}

    /* :has() */
    .has span {
      background: red;
    }

    ${has('.has ul', 'li:nth-child(3)', `
      background: cyan;
    `)}

    ${has('.has *', 'span', `
      padding-top: 5px;
      padding-bottom: 5px;
      border: 4px dashed red;
    `)}

    /* :not(:has()) */
    ${hasNot('.hasNot ul', 'li:nth-of-type(2)', `
      border: 4px dashed red;
    `)}

    /* :parent */
    ${parent('.parent .target', `
      border: 4px dashed red;
    `)}

    /* :previous */
    ${previous('.prev .target', `
      background: teal;
    `)}

    /* :contains-regex() */
    ${containsRegex('.regex li', /M/i, `
      background: plum;
    `)}

    /* :contains-text() */
    ${containsText('.includes li', 'target', `
      background: blue;
    `)}

    /* :excludes-regex() */
    ${excludesRegex('.excludesRegex li', /test/, `
      background: yellow;
    `)}

    /* :excludes-text() */
    ${excludesText('.excludesText li', 'test', `
      background: lime;
    `)}

    /* :grandparent */
    .grandparent,
    .grandparent div {
      padding: 1em;
      border: 1px dotted lightskyblue;
      margin-top: 1em;
    }
    ${grandparent('.grandparent .target', `
        border: 4px dashed turquoise;
    `)}

    /* :min-aspect-ratio() */
    .min-aspect-ratio {
      height: 40vw;
      border: 1px dotted lime;
    }

    ${minAspectRatio('.min-aspect-ratio', 16/9, `
      background: lime;
    `)}

    /* :max-aspect-ratio() */
    .max-aspect-ratio {
      height: 40vw;
      border: 1px dotted purple;
    }

    ${maxAspectRatio('.max-aspect-ratio', 16/9, `
      background: purple;
    `)}

    /* :min-characters() */
    ${minCharacters('.min-characters', 5, `
      background: dodgerblue;
    `)}

    /* :characters() */
    ${characters('.characters', 5, `
      background: hotpink;
    `)}

    /* :max-characters() */
    ${maxCharacters('.max-characters', 5, `
      background: turquoise;
    `)}

    /* :min-children() */
    ${minChildren('.min-children > ul', 2, `
      border: 1px dashed green;
    `)}

    /* :children() */
    ${children('.children > ul', 2, `
      border: 1px dashed red;
    `)}

    /* :max-children() */
    ${maxChildren('.max-children > ul', 2, `
      border: 1px dashed blue;
    `)}

    /* :min-height() */
    .min-height {
      width: 100%;
      resize: vertical;
    }

    ${minHeight('.min-height', 150, `
      background: gold;
    `)}

    /* :max-height() */
    .max-height {
      width: 100%;
      resize: vertical;
    }

    ${maxHeight('.max-height', 150, `
      background: teal;
    `)}

    /* :min-scroll-x() */
    .min-scroll-x {
      overflow-x: scroll;
      border: 1px dotted orange;
    }

    .min-scroll-x p {
      width: 200%;
    }

    ${minScrollX('.min-scroll-x', 50, `
      background: orange;
    `)}

    /* :max-scroll-x() */
    .max-scroll-x {
      overflow-x: scroll;
      border: 1px dotted hotpink;
    }

    .max-scroll-x p {
      width: 200%;
    }

    ${maxScrollX('.max-scroll-x', 50, `
      background: hotpink;
    `)}

    /* :min-scroll-y() */
    .min-scroll-y {
      height: 100px;
      border: 1px dotted dodgerblue;
      overflow-y: scroll;
    }

    ${minScrollY('.min-scroll-y', 50, `
      background: dodgerblue;
    `)}

    /* :max-scroll-y() */
    .max-scroll-y {
      height: 100px;
      border: 1px dotted orangered;
      overflow-y: scroll;
    }

    ${maxScrollY('.max-scroll-y', 50, `
      background: orangered;
    `)}

    /* :orientation() */
    ${orientation('.orientation', 'portrait', `
      background: magenta;
    `)}

    ${orientation('.orientation', 'square', `
      background: yellow;
    `)}

    ${orientation('.orientation', 'landscape', `
      background: cyan;
    `)}

    /* :min-width() */
    .minWidth {
      height: 30px;
      border: 1px dotted lime;
    }
    ${minWidth('.minWidth', 300, `
      background: lime;
    `)}

    /* :max-width() */
    .maxWidth {
      height: 30px;
      border: 1px dotted purple;
    }
    ${maxWidth('.maxWidth', 300, `
      background: purple;
    `)}

    /* :attr-greater-than() */
    ${attrGreater('.attr-greater', 'value', '5', `
        background: lime;
      `
    )}

    /* :attr-less-than() */
    ${attrLess('.attr-less', 'value', '5', `
        background: orange;
      `
    )}

  `)

  /* :in-viewport() */
  jsincss(()=>`

    .inViewport {
      padding: 2em;
      border: 1px solid currentColor;
    }

    ${inViewport('.inViewport', 'partly', `
      color: purple;
      font-weight: bolder;
    `)}

    ${inViewport('.inViewport', 'fully', `
      background: lime;
    `)}

  `, window, ['load', 'resize', 'scroll'])

  /* :overflowed */
  const stylesheet = () => `

    .overflowed {
      border: 1px solid currentColor;
      overflow: auto;
      height: 100px;
    }

    .overflowed div {
      width: 200%;
      height: 300px;
    }

    ${overflowed('.overflowed', ['left'], `
      background: red;
    `)}

    ${overflowed('.overflowed', ['right'], `
      color: green;
    `)}

    ${overflowed('.overflowed', ['top'], `
      text-decoration: underline;
    `)}

    ${overflowed('.overflowed', ['bottom'], `
      box-shadow: yellow 10px 10px 0;
    `)}

  `
  jsincss(stylesheet, window, ['load', 'resize'])
  jsincss(stylesheet, '.overflowed', ['scroll', ''])

  document.querySelectorAll('[class$="-height"]').forEach(tag => {
    tag.addEventListener('mouseup', e =>
      window.dispatchEvent(new Event('reprocess'))
    )
    tag.addEventListener('mousemove', e =>
      window.dispatchEvent(new Event('reprocess'))
    )
  })

  document.querySelectorAll('[class*="-scroll-"]').forEach(tag => {
    tag.addEventListener('scroll', e =>
      window.dispatchEvent(new Event('reprocess'))
    )
  })

  document.querySelectorAll('[class$="attr-"]').forEach(tag =>
    tag.addEventListener('input', e =>
      window.dispatchEvent(new Event('reprocess'))
    )
  )
</script>